!function(n){const t={hasShown:!1,config:{},init:function(n){this.config=Object.assign({title:"WAIT!",message:"Youâ€™ve qualified to test the latest <strong>Virtually Invisible</strong> hearing aids",image:"",subtext:"Answer a few short questions and claim your slot!",ctaText:"Claim Your Slot",ctaUrl:"#",declineText:"No thanks",animationDuration:300,useCookies:!1,cookieExpiryDays:7},n||{}),this.hasDismissed()||this.hasShown||(this.hasShown=!0,this.injectStyles(),this.injectPopup(),this.setupBackTrigger())},hasDismissed:function(){return this.config.useCookies?document.cookie.includes("backPopupDismissed=true"):"true"===localStorage.getItem("backPopupDismissed")},setDismissed:function(){if(this.config.useCookies){const n=new Date;n.setTime(n.getTime()+24*this.config.cookieExpiryDays*60*60*1e3),document.cookie="backPopupDismissed=true; expires="+n.toUTCString()+"; path=/"}else localStorage.setItem("backPopupDismissed","true")},injectStyles:function(){const n=`\n        #backPopupOverlay {\n            display: none;\n            position: fixed;\n            z-index: 9999;\n            top: 0; left: 0; width: 100%; height: 100%;\n            background: rgba(0, 0, 0, 0.7);\n            animation: fadeIn ${this.config.animationDuration}ms ease-in-out;\n        }\n\n        @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n        }\n\n        .backPopupContent {\n            background: #fff;\n            width: 90%;\n            max-width: 400px;\n            margin: 100px auto;\n            padding: 20px;\n            text-align: center;\n            border-radius: 8px;\n            font-family: Arial, sans-serif;\n            animation: popIn ${this.config.animationDuration}ms ease-in-out;\n        }\n\n        @keyframes popIn {\n            0% { transform: scale(0.9); opacity: 0; }\n            100% { transform: scale(1); opacity: 1; }\n        }\n\n        .backPopupContent img {\n            width: 100%;\n            border-radius: 5px;\n            margin-top: 10px;\n        }\n\n        .backPopupContent h2 {\n            font-size: 24px;\n            margin-bottom: 10px;\n        }\n\n        .backPopupContent p {\n            margin: 10px 0;\n        }\n\n        .backClaimButton {\n            display: block;\n            background-color: #ff7a00;\n            color: white;\n            font-weight: bold;\n            border: none;\n            padding: 12px;\n            margin-top: 15px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            width: 100%;\n        }\n\n        .backNoThanks {\n            margin-top: 12px;\n            color: #666;\n            text-decoration: underline;\n            cursor: pointer;\n        }\n      `,t=document.createElement("style");t.innerHTML=n,document.head.appendChild(t)},injectPopup:function(){const n=this.config,t=document.createElement("div");t.id="backPopupOverlay",t.innerHTML=`\n        <div class="backPopupContent">\n            <h2>${n.title}</h2>\n            <p>${n.message}</p>\n            ${n.image?`<img src="${n.image}" alt="popup">`:""}\n            <p>${n.subtext}</p>\n            <button class="backClaimButton" onclick="window.location.href='${n.ctaUrl}'">${n.ctaText}</button>\n            <div class="backNoThanks" onclick="document.getElementById('backPopupOverlay').style.display='none'; BackPopup.setDismissed();">${n.declineText}</div>\n        </div>\n      `,document.body.appendChild(t)},setupBackTrigger:function(){history.pushState({page:1},"",""),history.pushState({page:2},"",""),window.onpopstate=n=>{if(n.state&&1===n.state.page){const n=document.getElementById("backPopupOverlay");n&&(n.style.display="block",history.pushState({page:2},"",""))}}}};window.BackPopup=t}();